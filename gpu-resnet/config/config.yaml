# =============================================================================
# Configuration d'entraînement ResNet3D — Référence / Documentation
# =============================================================================
# Structure attendue : run, data, input, training, model, system.
# Les train_config_v*.yaml suivent ce même format.
# =============================================================================

run:
  # Nom du run (dossier _runs/{run_name}_{timestamp})
  run_name: resnet3d

data:
  # Dossier des patches préprocessés (ex. preprocessed_256x256x32_v1.1)
  preprocessed_dir: /mnt/pve/ds_shared/data/preprocess/preprocessed_256x256x32_v1.1
  # JSON train/test (ex. split v1.1)
  train_test_split_json: /mnt/pve/work/work-hugo/_splits/full-dataset-v1.1/train_test_split.json

input:
  # Taille des batchs
  batch_size: 64

training:
  epochs: 100
  learning_rate: 0.001
  weight_decay: 0.0001
  # Workers DataLoader (préchargement des patches)
  num_workers: 12
  prefetch_factor: 2
  # Early stopping (null = désactivé)
  early_stopping_patience: null
  early_stopping_min_delta: null

model:
  # Nombre de canaux d'entrée (3 pour RGB/3 canaux)
  in_channels: 3

system:
  device: cuda
